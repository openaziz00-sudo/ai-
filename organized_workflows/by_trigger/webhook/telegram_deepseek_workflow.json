{
  "id": "DeepSeekTelegramBot",
  "meta": {
    "instanceId": "deepseek-telegram-integration"
  },
  "name": "ğŸ¤– Telegram Bot Ù…Ø¹ DeepSeek AI",
  "tags": ["telegram", "deepseek", "ai", "automation"],
  "nodes": [
    {
      "id": "webhook-listener",
      "name": "Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø±Ø³Ø§Ø¦Ù„ ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…",
      "type": "n8n-nodes-base.webhook",
      "position": [100, 200],
      "webhookId": "telegram-webhook-deepseek",
      "parameters": {
        "path": "telegram-webhook",
        "options": {
          "binaryPropertyName": "data"
        },
        "httpMethod": "POST"
      },
      "typeVersion": 2
    },
    {
      "id": "user-validation",
      "name": "Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…",
      "type": "n8n-nodes-base.if",
      "position": [300, 200],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "or",
          "conditions": [
            {
              "id": "user-id-check",
              "operator": {
                "type": "number",
                "operation": "equals"
              },
              "leftValue": "={{ $('Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø±Ø³Ø§Ø¦Ù„ ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…').item.json.body.message.from.id }}",
              "rightValue": "7327535994"
            },
            {
              "id": "username-check",
              "operator": {
                "name": "filter.operator.equals",
                "type": "string",
                "operation": "equals"
              },
              "leftValue": "={{ $('Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø±Ø³Ø§Ø¦Ù„ ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…').item.json.body.message.from.username }}",
              "rightValue": "wolfaiOM"
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "message-type-router",
      "name": "ØªÙˆØ¬ÙŠÙ‡ Ù†ÙˆØ¹ Ø§Ù„Ø±Ø³Ø§Ù„Ø©",
      "type": "n8n-nodes-base.switch",
      "position": [500, 200],
      "parameters": {
        "options": {},
        "rules": {
          "rules": [
            {
              "id": "text-message",
              "operation": "exists",
              "value1": "={{ $json.body.message.text }}"
            },
            {
              "id": "voice-message", 
              "operation": "exists",
              "value1": "={{ $json.body.message.voice }}"
            },
            {
              "id": "photo-message",
              "operation": "exists", 
              "value1": "={{ $json.body.message.photo }}"
            }
          ]
        }
      },
      "typeVersion": 3
    },
    {
      "id": "extract-text",
      "name": "Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ",
      "type": "n8n-nodes-base.set",
      "position": [700, 100],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "message-text",
              "name": "user_message",
              "type": "string",
              "value": "={{ $json.body.message.text }}"
            },
            {
              "id": "chat-id",
              "name": "chat_id",
              "type": "string",
              "value": "={{ $json.body.message.chat.id }}"
            },
            {
              "id": "user-name",
              "name": "user_name",
              "type": "string",
              "value": "={{ $json.body.message.from.first_name }}"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "deepseek-api-call",
      "name": "Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ DeepSeek API",
      "type": "n8n-nodes-base.httpRequest",
      "position": [900, 100],
      "parameters": {
        "url": "https://api.deepseek.com/v1/chat/completions",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "httpMethod": "POST",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer sk-94af74f2b4fe4e98a8b1ec389dc6ec4b"
            },
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "bodyContentType": "json",
        "jsonBody": "={\n  \"model\": \"deepseek-chat\",\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"Ø£Ù†Øª Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ ÙŠØªØ­Ø¯Ø« Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©. Ø§Ø³Ù…Ùƒ Wolf AI. Ø£Ø¬Ø¨ Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù…ÙÙŠØ¯Ø© ÙˆÙ…Ù‡Ø°Ø¨Ø©.\"\n    },\n    {\n      \"role\": \"user\",\n      \"content\": \"{{ $json.user_message }}\"\n    }\n  ],\n  \"max_tokens\": 1000,\n  \"temperature\": 0.7\n}",
        "options": {}
      },
      "typeVersion": 4.2
    },
    {
      "id": "extract-ai-response",
      "name": "Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø±Ø¯ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ",
      "type": "n8n-nodes-base.set",
      "position": [1100, 100],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "ai-response",
              "name": "ai_response",
              "type": "string",
              "value": "={{ $json.choices[0].message.content }}"
            },
            {
              "id": "chat-id-pass",
              "name": "chat_id",
              "type": "string",
              "value": "={{ $('Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ').item.json.chat_id }}"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "send-telegram-response",
      "name": "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø¯ Ø¹Ø¨Ø± ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…",
      "type": "n8n-nodes-base.telegram",
      "position": [1300, 100],
      "parameters": {
        "text": "={{ $json.ai_response }}",
        "chatId": "={{ $json.chat_id }}",
        "additionalFields": {
          "parse_mode": "Markdown",
          "appendAttribution": false
        }
      },
      "credentials": {
        "telegramApi": {
          "id": "telegram-bot-credentials",
          "name": "Telegram Bot Token"
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "get-voice-file",
      "name": "Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ù„Ù Ø§Ù„ØµÙˆØª",
      "type": "n8n-nodes-base.telegram",
      "position": [700, 200],
      "parameters": {
        "fileId": "={{ $json.body.message.voice.file_id }}",
        "resource": "file"
      },
      "credentials": {
        "telegramApi": {
          "id": "telegram-bot-credentials",
          "name": "Telegram Bot Token"
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "transcribe-voice",
      "name": "ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØª Ø¥Ù„Ù‰ Ù†Øµ",
      "type": "n8n-nodes-base.httpRequest",
      "position": [900, 200],
      "parameters": {
        "url": "https://api.deepseek.com/v1/audio/transcriptions",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "httpMethod": "POST",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer sk-94af74f2b4fe4e98a8b1ec389dc6ec4b"
            }
          ]
        },
        "sendBody": true,
        "bodyContentType": "multipart-form-data",
        "bodyParameters": {
          "parameters": [
            {
              "name": "file",
              "value": "={{ $binary.data }}"
            },
            {
              "name": "model",
              "value": "whisper-1"
            }
          ]
        },
        "options": {}
      },
      "typeVersion": 4.2
    },
    {
      "id": "process-transcription",
      "name": "Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø­ÙˆÙ„",
      "type": "n8n-nodes-base.set",
      "position": [1100, 200],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "transcribed-text",
              "name": "user_message",
              "type": "string",
              "value": "={{ $json.text }}"
            },
            {
              "id": "chat-id-voice",
              "name": "chat_id",
              "type": "string",
              "value": "={{ $('Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ù„Ù Ø§Ù„ØµÙˆØª').item.json.body.message.chat.id }}"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "get-photo-file",
      "name": "Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ù„Ù Ø§Ù„ØµÙˆØ±Ø©",
      "type": "n8n-nodes-base.telegram",
      "position": [700, 300],
      "parameters": {
        "fileId": "={{ $json.body.message.photo.last().file_id }}",
        "resource": "file"
      },
      "credentials": {
        "telegramApi": {
          "id": "telegram-bot-credentials",
          "name": "Telegram Bot Token"
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "analyze-image",
      "name": "ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©",
      "type": "n8n-nodes-base.httpRequest",
      "position": [900, 300],
      "parameters": {
        "url": "https://api.deepseek.com/v1/chat/completions",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "httpMethod": "POST",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer sk-94af74f2b4fe4e98a8b1ec389dc6ec4b"
            },
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "bodyContentType": "json",
        "jsonBody": "={\n  \"model\": \"deepseek-vl-chat\",\n  \"messages\": [\n    {\n      \"role\": \"user\",\n      \"content\": [\n        {\n          \"type\": \"text\",\n          \"text\": \"ØµÙ Ù‡Ø°Ù‡ Ø§Ù„ØµÙˆØ±Ø© Ø¨Ø§Ù„ØªÙØµÙŠÙ„ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©. {{ $json.body.message.caption || '' }}\"\n        },\n        {\n          \"type\": \"image_url\",\n          \"image_url\": {\n            \"url\": \"data:image/jpeg;base64,{{ $binary.data.toString('base64') }}\"\n          }\n        }\n      ]\n    }\n  ],\n  \"max_tokens\": 1000\n}",
        "options": {}
      },
      "typeVersion": 4.2
    },
    {
      "id": "process-image-response",
      "name": "Ù…Ø¹Ø§Ù„Ø¬Ø© Ø±Ø¯ ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©",
      "type": "n8n-nodes-base.set",
      "position": [1100, 300],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "image-analysis",
              "name": "ai_response",
              "type": "string",
              "value": "={{ $json.choices[0].message.content }}"
            },
            {
              "id": "chat-id-image",
              "name": "chat_id",
              "type": "string",
              "value": "={{ $('Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ù„Ù Ø§Ù„ØµÙˆØ±Ø©').item.json.body.message.chat.id }}"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "error-handler",
      "name": "Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡",
      "type": "n8n-nodes-base.telegram",
      "position": [500, 400],
      "parameters": {
        "text": "Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù„Ø§ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø±Ø³Ø§Ù„ØªÙƒ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ. ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù†Ùƒ Ù…Ø®ÙˆÙ„ Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø¨ÙˆØª.",
        "chatId": "={{ $json.body.message.chat.id }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "credentials": {
        "telegramApi": {
          "id": "telegram-bot-credentials",
          "name": "Telegram Bot Token"
        }
      },
      "typeVersion": 1.2
    }
  ],
  "connections": {
    "Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø±Ø³Ø§Ø¦Ù„ ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…": {
      "main": [
        [
          {
            "node": "Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…": {
      "main": [
        [
          {
            "node": "ØªÙˆØ¬ÙŠÙ‡ Ù†ÙˆØ¹ Ø§Ù„Ø±Ø³Ø§Ù„Ø©",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ØªÙˆØ¬ÙŠÙ‡ Ù†ÙˆØ¹ Ø§Ù„Ø±Ø³Ø§Ù„Ø©": {
      "main": [
        [
          {
            "node": "Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ù„Ù Ø§Ù„ØµÙˆØª",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ù„Ù Ø§Ù„ØµÙˆØ±Ø©",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ": {
      "main": [
        [
          {
            "node": "Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ DeepSeek API",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ DeepSeek API": {
      "main": [
        [
          {
            "node": "Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø±Ø¯ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø±Ø¯ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ": {
      "main": [
        [
          {
            "node": "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø¯ Ø¹Ø¨Ø± ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ù„Ù Ø§Ù„ØµÙˆØª": {
      "main": [
        [
          {
            "node": "ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØª Ø¥Ù„Ù‰ Ù†Øµ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØª Ø¥Ù„Ù‰ Ù†Øµ": {
      "main": [
        [
          {
            "node": "Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø­ÙˆÙ„",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø­ÙˆÙ„": {
      "main": [
        [
          {
            "node": "Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ DeepSeek API",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ù„Ù Ø§Ù„ØµÙˆØ±Ø©": {
      "main": [
        [
          {
            "node": "ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©": {
      "main": [
        [
          {
            "node": "Ù…Ø¹Ø§Ù„Ø¬Ø© Ø±Ø¯ ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Ù…Ø¹Ø§Ù„Ø¬Ø© Ø±Ø¯ ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©": {
      "main": [
        [
          {
            "node": "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø¯ Ø¹Ø¨Ø± ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "pinData": {},
  "versionId": "1.0.0"
}

